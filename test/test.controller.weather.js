/**
 * Created by dhkim2 on 2017-11-14.
 */

'use strict';

const expect = require('chai').expect;

const ControllerWeather = require('../controller.weather');

describe('controller weather', function () {

    it ('test dsf date str to kms str', function () {
      let d = "2017.11.20 03:00";
      let ctrlWeather = new ControllerWeather();
      let str = ctrlWeather._dsfDateStr2kmaDateStr(d);
      expect(str).to.equal("20171120");
    });

    it ('test convert Date Period Str 2 Array', function () {
        let ctrlWeather = new ControllerWeather();
        let array = ctrlWeather._datePeriodStr2arrayKmaDayStr("2017-11-25/2017-11-26");
        expect(array[1]).to.equal("20171126");
    });

    it ('test make description', function () {
        let ctrlWeather = new ControllerWeather();
        let desc;
        desc = ctrlWeather._makeDescription({desc:"흐림"});
        console.log(desc);
        desc = ctrlWeather._makeDescription({descAm:"흐림", descPm:"맑음"});
        console.log(desc);
        desc = ctrlWeather._makeDescription({descAm:"흐림", descPm:"흐림"});
        console.log(desc);
    });

    it ('test get Specific WeekEnd Weather', function () {
        let weatherInfo = {
            "location": {
                "lat": "35.829",
                "lon": "128.553"
            },
            "name": "송현1동",
            "address": "대구광역시 달서구 송현1동",
            "country": "KR",
            "regionName": "대구광역시",
            "cityName": "달서구",
            "townName": "송현1동",
            "midData": {
                "forecast": {
                    "date": "20171127",
                    "time": "0600",
                    "cnt": 0,
                    "wfsv": "경상남도는 고기압의 가장자리에 들어 가끔 구름이 많겠습니다.\n기온은 평년(최저기온: -5~5도, 최고기온: 9~13도)과 비슷하겠습니다.\n강수량은 평년(1~2mm)보다 적겠습니다.\n바다의 물결은 30일 오후에서 12월 1일 오전에 동해남부해상에서 1.5~4.0m로 매우 높게 일겠고, 그 밖의 날에는 남해동부와 동해남부해상에서 0.5~3.0m로 일겠습니다."
                },
                "dailyData": [{
                    "date": "20171120",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 41,
                    "rn1": 0,
                    "sky": 2,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 2,
                    "wfAm": "구름조금",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 2,
                    "wfPm": "구름조금",
                    "t1d": 4.7,
                    "wsd": 1.2,
                    "taMax": 9.2,
                    "taMin": 1.2,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 48,
                    "fsnGrade": 1,
                    "brain": 2,
                    "brainStr": "높음",
                    "skin": 0,
                    "skinStr": "낮음",
                    "flowerWoody": 2,
                    "flowerWoodyStr": "높음",
                    "asthma-lunt": 2,
                    "asthma-luntStr": "높음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.20 07:06",
                    "suntransit": "2017.11.20 12:11",
                    "sunset": "2017.11.20 17:15",
                    "moonrise": "2017.11.20 08:17",
                    "moontransit": "2017.11.20 13:32",
                    "moonset": "2017.11.20 18:45",
                    "civilm": "2017.11.20 06:39",
                    "civile": "2017.11.20 17:43",
                    "nautm": "2017.11.20 06:07",
                    "naute": "2017.11.20 18:14",
                    "astm": "2017.11.20 05:37",
                    "aste": "2017.11.20 18:44",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171121",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 52,
                    "rn1": 0,
                    "sky": 1,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 1,
                    "wfAm": "맑음",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 2,
                    "wfPm": "구름조금",
                    "t1d": 4.1,
                    "wsd": 0.7,
                    "taMax": 11.6,
                    "taMin": -1.6,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 43,
                    "fsnGrade": 1,
                    "flowerWoody": 3,
                    "flowerWoodyStr": "매우 높음",
                    "brain": 2,
                    "brainStr": "높음",
                    "skin": 0,
                    "skinStr": "낮음",
                    "asthma-lunt": 3,
                    "asthma-luntStr": "매우 높음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.21 07:07",
                    "suntransit": "2017.11.21 12:11",
                    "sunset": "2017.11.21 17:15",
                    "moonrise": "2017.11.21 09:09",
                    "moontransit": "2017.11.21 14:19",
                    "moonset": "2017.11.21 19:29",
                    "civilm": "2017.11.21 06:39",
                    "civile": "2017.11.21 17:42",
                    "nautm": "2017.11.21 06:08",
                    "naute": "2017.11.21 18:13",
                    "astm": "2017.11.21 05:38",
                    "aste": "2017.11.21 18:44",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "Sun",
                    "skyAmIcon": "Sun",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171122",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 51,
                    "rn1": 0,
                    "sky": 4,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 4,
                    "wfAm": "흐림",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 4,
                    "wfPm": "흐림",
                    "t1d": 5.8,
                    "wsd": 1,
                    "taMax": 11,
                    "taMin": 0.5,
                    "ultrv": 1,
                    "ultrvGrade": 0,
                    "fsn": 51,
                    "fsnGrade": 1,
                    "asthma-lunt": 2,
                    "asthma-luntStr": "높음",
                    "brain": 2,
                    "brainStr": "높음",
                    "flowerWoody": 2,
                    "flowerWoodyStr": "높음",
                    "skin": 0,
                    "skinStr": "낮음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.22 07:08",
                    "suntransit": "2017.11.22 12:11",
                    "sunset": "2017.11.22 17:14",
                    "moonrise": "2017.11.22 09:59",
                    "moontransit": "2017.11.22 15:07",
                    "moonset": "2017.11.22 20:16",
                    "civilm": "2017.11.22 06:40",
                    "civile": "2017.11.22 17:42",
                    "nautm": "2017.11.22 06:09",
                    "naute": "2017.11.22 18:13",
                    "astm": "2017.11.22 05:39",
                    "aste": "2017.11.22 18:44",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "Cloud",
                    "skyAmIcon": "Cloud",
                    "skyPmIcon": "Cloud"
                }, {
                    "date": "20171123",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 37,
                    "rn1": 0,
                    "sky": 2,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 2,
                    "wfAm": "구름조금",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 2,
                    "wfPm": "구름조금",
                    "t1d": 2.9,
                    "wsd": 1.8,
                    "taMax": 6.4,
                    "taMin": -0.4,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 59,
                    "fsnGrade": 1,
                    "flowerWoody": 2,
                    "flowerWoodyStr": "높음",
                    "skin": 0,
                    "skinStr": "낮음",
                    "asthma-lunt": 3,
                    "asthma-luntStr": "매우 높음",
                    "brain": 2,
                    "brainStr": "높음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.23 07:09",
                    "suntransit": "2017.11.23 12:11",
                    "sunset": "2017.11.23 17:14",
                    "moonrise": "2017.11.23 10:45",
                    "moontransit": "2017.11.23 15:55",
                    "moonset": "2017.11.23 21:07",
                    "civilm": "2017.11.23 06:41",
                    "civile": "2017.11.23 17:41",
                    "nautm": "2017.11.23 06:10",
                    "naute": "2017.11.23 18:13",
                    "astm": "2017.11.23 05:39",
                    "aste": "2017.11.23 18:43",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171124",
                    "lgt": 0,
                    "pty": 2,
                    "reh": 55,
                    "rn1": 0.8,
                    "sky": 3,
                    "lgtAm": 0,
                    "ptyAm": 2,
                    "skyAm": 3,
                    "wfAm": "구름많고 비/눈",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 2,
                    "wfPm": "구름조금",
                    "t1d": 2.1,
                    "wsd": 1.7,
                    "taMax": 7.3,
                    "taMin": -1.5,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 48,
                    "fsnGrade": 1,
                    "flowerWoody": 2,
                    "flowerWoodyStr": "높음",
                    "asthma-lunt": 2,
                    "asthma-luntStr": "높음",
                    "brain": 2,
                    "brainStr": "높음",
                    "skin": 0,
                    "skinStr": "낮음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.24 07:10",
                    "suntransit": "2017.11.24 12:12",
                    "sunset": "2017.11.24 17:13",
                    "moonrise": "2017.11.24 11:28",
                    "moontransit": "2017.11.24 16:42",
                    "moonset": "2017.11.24 22:00",
                    "civilm": "2017.11.24 06:42",
                    "civile": "2017.11.24 17:41",
                    "nautm": "2017.11.24 06:11",
                    "naute": "2017.11.24 18:12",
                    "astm": "2017.11.24 05:40",
                    "aste": "2017.11.24 18:43",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "ptyStr": "강수량",
                    "rn1Str": "~0.8mm",
                    "skyIcon": "SunBigCloudRainSnow",
                    "skyAmIcon": "SunBigCloudRainSnow",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171125",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 57,
                    "rn1": 0,
                    "sky": 2,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 2,
                    "wfAm": "구름조금",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 1,
                    "wfPm": "맑음",
                    "t1d": 4.5,
                    "wsd": 1.1,
                    "taMax": 10.9,
                    "taMin": -3.7,
                    "pop": 10,
                    "r06": 0,
                    "s06": 0,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 38,
                    "fsnGrade": 1,
                    "brain": 2,
                    "brainStr": "높음",
                    "flowerWoody": 3,
                    "flowerWoodyStr": "매우 높음",
                    "asthma-lunt": 3,
                    "asthma-luntStr": "매우 높음",
                    "skin": 0,
                    "skinStr": "낮음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.25 07:11",
                    "suntransit": "2017.11.25 12:12",
                    "sunset": "2017.11.25 17:13",
                    "moonrise": "2017.11.25 12:07",
                    "moontransit": "2017.11.25 17:29",
                    "moonset": "2017.11.25 22:55",
                    "civilm": "2017.11.25 06:43",
                    "civile": "2017.11.25 17:41",
                    "nautm": "2017.11.25 06:12",
                    "naute": "2017.11.25 18:12",
                    "astm": "2017.11.25 05:41",
                    "aste": "2017.11.25 18:43",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "Sun"
                }, {
                    "date": "20171126",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 62,
                    "rn1": 0,
                    "sky": 2,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 1,
                    "wfAm": "맑음",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 2,
                    "wfPm": "구름조금",
                    "t1d": 6.9,
                    "wsd": 0.8,
                    "taMax": 13.4,
                    "taMin": 1.4,
                    "pop": 20,
                    "r06": 0,
                    "s06": 0,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 50,
                    "fsnGrade": 1,
                    "brain": 1,
                    "brainStr": "보통",
                    "flowerWoody": 1,
                    "flowerWoodyStr": "보통",
                    "skin": 0,
                    "skinStr": "낮음",
                    "asthma-lunt": 2,
                    "asthma-luntStr": "높음",
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.26 07:12",
                    "suntransit": "2017.11.26 12:12",
                    "sunset": "2017.11.26 17:13",
                    "moonrise": "2017.11.26 12:44",
                    "moontransit": "2017.11.26 18:15",
                    "moonset": "2017.11.26 23:52",
                    "civilm": "2017.11.26 06:44",
                    "civile": "2017.11.26 17:40",
                    "nautm": "2017.11.26 06:13",
                    "naute": "2017.11.26 18:12",
                    "astm": "2017.11.26 05:42",
                    "aste": "2017.11.26 18:43",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "Sun",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171127",
                    "lgt": 0,
                    "pty": 0,
                    "reh": 62,
                    "rn1": 0,
                    "sky": 1,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 1,
                    "wfAm": "맑음",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 2,
                    "wfPm": "구름조금",
                    "t1d": 6.9,
                    "wsd": 0.8,
                    "taMax": 13,
                    "taMin": -1,
                    "pop": 10,
                    "r06": 0,
                    "s06": 0,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 43,
                    "fsnGrade": 1,
                    "skin": 0,
                    "skinStr": "낮음",
                    "asthma-lunt": 3,
                    "asthma-luntStr": "매우 높음",
                    "flowerWoody": 3,
                    "flowerWoodyStr": "매우 높음",
                    "brain": 2,
                    "brainStr": "높음",
                    "dustForecast": {
                        "sido": "대구",
                        "PM10Grade": 1,
                        "PM10Str": "보통",
                        "PM25Grade": 1,
                        "PM25Str": "보통"
                    },
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.27 07:13",
                    "suntransit": "2017.11.27 12:13",
                    "sunset": "2017.11.27 17:12",
                    "moonrise": "2017.11.27 13:19",
                    "moontransit": "2017.11.27 19:02",
                    "civilm": "2017.11.27 06:45",
                    "civile": "2017.11.27 17:40",
                    "nautm": "2017.11.27 06:13",
                    "naute": "2017.11.27 18:12",
                    "astm": "2017.11.27 05:43",
                    "aste": "2017.11.27 18:42",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "Sun",
                    "skyAmIcon": "Sun",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171128",
                    "pop": 20,
                    "pty": 0,
                    "r06": 0,
                    "reh": 63,
                    "s06": 0,
                    "sky": 2,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 2,
                    "wfAm": "구름조금",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 3,
                    "wfPm": "구름많음",
                    "t1d": 8.8,
                    "taMax": 15,
                    "taMin": 3,
                    "wsd": 0.8,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 45,
                    "fsnGrade": 1,
                    "brain": 1,
                    "brainStr": "보통",
                    "asthma-lunt": 2,
                    "asthma-luntStr": "높음",
                    "flowerWoody": 1,
                    "flowerWoodyStr": "보통",
                    "skin": 0,
                    "skinStr": "낮음",
                    "dustForecast": {
                        "sido": "대구",
                        "PM10Grade": 1,
                        "PM10Str": "보통",
                        "PM25Grade": 1,
                        "PM25Str": "보통"
                    },
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.28 07:14",
                    "suntransit": "2017.11.28 12:13",
                    "sunset": "2017.11.28 17:12",
                    "moonrise": "2017.11.28 13:53",
                    "moontransit": "2017.11.28 19:49",
                    "moonset": "2017.11.28 00:50",
                    "civilm": "2017.11.28 06:46",
                    "civile": "2017.11.28 17:40",
                    "nautm": "2017.11.28 06:14",
                    "naute": "2017.11.28 18:11",
                    "astm": "2017.11.28 05:44",
                    "aste": "2017.11.28 18:42",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunBigCloud"
                }, {
                    "date": "20171129",
                    "pop": 20,
                    "pty": 0,
                    "r06": 0,
                    "reh": 42,
                    "s06": 0,
                    "sky": 3,
                    "lgtAm": 0,
                    "ptyAm": 0,
                    "skyAm": 3,
                    "wfAm": "구름많음",
                    "lgtPm": 0,
                    "ptyPm": 0,
                    "skyPm": 3,
                    "wfPm": "구름많음",
                    "t1d": 8,
                    "taMax": 12,
                    "taMin": 2,
                    "wsd": 1.6,
                    "ultrv": 2,
                    "ultrvGrade": 0,
                    "fsn": 47,
                    "fsnGrade": 1,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.29 07:15",
                    "suntransit": "2017.11.29 12:13",
                    "sunset": "2017.11.29 17:12",
                    "moonrise": "2017.11.29 14:27",
                    "moontransit": "2017.11.29 20:37",
                    "moonset": "2017.11.29 01:51",
                    "civilm": "2017.11.29 06:47",
                    "civile": "2017.11.29 17:40",
                    "nautm": "2017.11.29 06:15",
                    "naute": "2017.11.29 18:11",
                    "astm": "2017.11.29 05:44",
                    "aste": "2017.11.29 18:42",
                    "ultrvStr": "낮음",
                    "fsnStr": "주의",
                    "wsdGrade": 1,
                    "wsdStr": "바람약함",
                    "skyIcon": "SunBigCloud",
                    "skyAmIcon": "SunBigCloud",
                    "skyPmIcon": "SunBigCloud"
                }, {
                    "date": "20171130",
                    "wfAm": "구름많음",
                    "wfPm": "구름많음",
                    "taMin": 1,
                    "taMax": 8,
                    "reliability": "낮음",
                    "skyAm": 3,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 3,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 3,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.11.30 07:16",
                    "suntransit": "2017.11.30 12:14",
                    "sunset": "2017.11.30 17:12",
                    "moonrise": "2017.11.30 15:02",
                    "moontransit": "2017.11.30 21:27",
                    "moonset": "2017.11.30 02:53",
                    "civilm": "2017.11.30 06:48",
                    "civile": "2017.11.30 17:40",
                    "nautm": "2017.11.30 06:16",
                    "naute": "2017.11.30 18:11",
                    "astm": "2017.11.30 05:45",
                    "aste": "2017.11.30 18:42",
                    "skyIcon": "SunBigCloud",
                    "skyAmIcon": "SunBigCloud",
                    "skyPmIcon": "SunBigCloud"
                }, {
                    "date": "20171201",
                    "wfAm": "구름조금",
                    "wfPm": "구름조금",
                    "taMin": -4,
                    "taMax": 6,
                    "reliability": "보통",
                    "skyAm": 2,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 2,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 2,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.12.01 07:17",
                    "suntransit": "2017.12.01 12:14",
                    "sunset": "2017.12.01 17:11",
                    "moonrise": "2017.12.01 15:40",
                    "moontransit": "2017.12.01 22:20",
                    "moonset": "2017.12.01 03:59",
                    "civilm": "2017.12.01 06:48",
                    "civile": "2017.12.01 17:39",
                    "nautm": "2017.12.01 06:17",
                    "naute": "2017.12.01 18:11",
                    "astm": "2017.12.01 05:46",
                    "aste": "2017.12.01 18:42",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171202",
                    "wfAm": "구름조금",
                    "wfPm": "구름조금",
                    "taMin": -2,
                    "taMax": 8,
                    "reliability": "보통",
                    "skyAm": 2,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 2,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 2,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.12.02 07:17",
                    "suntransit": "2017.12.02 12:14",
                    "sunset": "2017.12.02 17:11",
                    "moonrise": "2017.12.02 16:22",
                    "moontransit": "2017.12.02 23:16",
                    "moonset": "2017.12.02 05:07",
                    "civilm": "2017.12.02 06:49",
                    "civile": "2017.12.02 17:39",
                    "nautm": "2017.12.02 06:18",
                    "naute": "2017.12.02 18:11",
                    "astm": "2017.12.02 05:47",
                    "aste": "2017.12.02 18:42",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171203",
                    "wfAm": "구름조금",
                    "wfPm": "구름조금",
                    "taMin": -1,
                    "taMax": 10,
                    "reliability": "보통",
                    "skyAm": 2,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 2,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 2,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.12.03 07:18",
                    "suntransit": "2017.12.03 12:15",
                    "sunset": "2017.12.03 17:11",
                    "moonrise": "2017.12.03 17:10",
                    "moonset": "2017.12.03 06:18",
                    "civilm": "2017.12.03 06:50",
                    "civile": "2017.12.03 17:39",
                    "nautm": "2017.12.03 06:18",
                    "naute": "2017.12.03 18:11",
                    "astm": "2017.12.03 05:48",
                    "aste": "2017.12.03 18:42",
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunSmallCloud"
                }, {
                    "date": "20171204",
                    "wfAm": "구름많음",
                    "wfPm": "구름많음",
                    "taMin": -1,
                    "taMax": 10,
                    "reliability": "보통",
                    "skyAm": 3,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 3,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 3,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.12.04 07:19",
                    "suntransit": "2017.12.04 12:15",
                    "sunset": "2017.12.04 17:11",
                    "moonrise": "2017.12.04 18:04",
                    "moontransit": "2017.12.04 00:16",
                    "moonset": "2017.12.04 07:29",
                    "civilm": "2017.12.04 06:51",
                    "civile": "2017.12.04 17:39",
                    "nautm": "2017.12.04 06:19",
                    "naute": "2017.12.04 18:11",
                    "astm": "2017.12.04 05:48",
                    "aste": "2017.12.04 18:42",
                    "skyIcon": "SunBigCloud",
                    "skyAmIcon": "SunBigCloud",
                    "skyPmIcon": "SunBigCloud"
                }, {
                    "date": "20171205",
                    "wfPm": "구름많음",
                    "wfAm": "구름많음",
                    "taMin": -2,
                    "taMax": 8,
                    "reliability": "보통",
                    "skyAm": 3,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 3,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 3,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.12.05 07:20",
                    "suntransit": "2017.12.05 12:16",
                    "sunset": "2017.12.05 17:11",
                    "moonrise": "2017.12.05 19:04",
                    "moontransit": "2017.12.05 01:19",
                    "moonset": "2017.12.05 08:37",
                    "civilm": "2017.12.05 06:52",
                    "civile": "2017.12.05 17:39",
                    "nautm": "2017.12.05 06:20",
                    "naute": "2017.12.05 18:11",
                    "astm": "2017.12.05 05:49",
                    "aste": "2017.12.05 18:42",
                    "skyIcon": "SunBigCloud",
                    "skyAmIcon": "SunBigCloud",
                    "skyPmIcon": "SunBigCloud"
                }, {
                    "date": "20171206",
                    "wfPm": "구름많음",
                    "wfAm": "구름많음",
                    "taMin": -3,
                    "taMax": 7,
                    "reliability": "보통",
                    "skyAm": 3,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 3,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 3,
                    "pty": 0,
                    "lgt": 0,
                    "locationName": "대구",
                    "locationGeo": [35.866666, 35.866666],
                    "sunrise": "2017.12.06 07:21",
                    "suntransit": "2017.12.06 12:16",
                    "sunset": "2017.12.06 17:11",
                    "moonrise": "2017.12.06 20:08",
                    "moontransit": "2017.12.06 02:22",
                    "moonset": "2017.12.06 09:40",
                    "civilm": "2017.12.06 06:53",
                    "civile": "2017.12.06 17:39",
                    "nautm": "2017.12.06 06:21",
                    "naute": "2017.12.06 18:11",
                    "astm": "2017.12.06 05:50",
                    "aste": "2017.12.06 18:42",
                    "skyIcon": "SunBigCloud",
                    "skyAmIcon": "SunBigCloud",
                    "skyPmIcon": "SunBigCloud"
                }, {
                    "date": "20171207",
                    "wfPm": "구름조금",
                    "wfAm": "구름조금",
                    "taMin": -3,
                    "taMax": 6,
                    "skyAm": 2,
                    "ptyAm": 0,
                    "lgtAm": 0,
                    "skyPm": 2,
                    "ptyPm": 0,
                    "lgtPm": 0,
                    "sky": 2,
                    "pty": 0,
                    "lgt": 0,
                    "skyIcon": "SunSmallCloud",
                    "skyAmIcon": "SunSmallCloud",
                    "skyPmIcon": "SunSmallCloud"
                }],
                "landPubDate": "201711270600",
                "tempPubDate": "201711270600",
                "rssPubDate": "201711261800",
                "province": "대구ㆍ경상북도",
                "city": "대구",
                "stnId": "143",
                "regId": "11H10701"
            },
            "source": "KMA"
        };

        let parameters = {
            "any" : "송현1동",
            "date" : "",
            "date-period" : "2017-11-27/2017-11-28",
        };

        let ctrlWeather = new ControllerWeather();
        let msg = ctrlWeather.getSpecificWeekEndWeather(parameters, weatherInfo);
        console.log(msg);
    });

    it ('test get kma current aqi', function () {
       let weatherInfo = {
           "regionName":"서울특별시",
           "cityName":"",
           "townName":"",
           "current":{"date":"20171127","time":"1300","t1h":8.6,"rn1":0,"sky":1,"uuu":0.1,"vvv":0.3,"reh":34,"pty":0,"lgt":0,"vec":167.8,"wsd":1,"stnId":108,"stnName":"서울","addr":"서울특별시종로구송월동","isCityWeather":true,"altitude":86,"geo":[126.96519465749947,37.57006278446992],"rnsCount":615,"rnsHit":487,"isMountain":false,"sensoryTem":7,"dpt":-6.2,"heavyCloud":0,"cloud":0,"visibility":18,"weather":"맑음","hPa":1026.1,"wdd":"SSE","rs1d":0,"rs1h":0,"rns":false,"stnDateTime":"2017.11.27.13:55","weatherType":0,"liveTime":"1355","overwrite":true,"ultrv":2,"ultrvGrade":0,"ultrvStr":"낮음","fsn":39,"fsnGrade":1,"fsnStr":"주의","arpltn":{"stationName":"중구","pm10Grade":2,"no2Grade":2,"o3Grade":1,"coGrade":1,"so2Grade":1,"khaiGrade":2,"khaiValue":71,"pm10Value":44,"no2Value":0.043,"o3Value":0.008,"coValue":0.7,"so2Value":0.004,"dataTime":"2017-11-27 13:00","pm25Grade":2,"pm25Value":24,"pm10Str":"보통","pm25Str":"보통","o3Str":"좋음","no2Str":"보통","coStr":"좋음","so2Str":"좋음","khaiStr":"보통"},"sensorytem":9,"dspls":51,"dsplsGrade":0,"dsplsStr":"낮음","decpsn":0,"decpsnGrade":0,"decpsnStr":"낮음","heatIndex":8.6,"heatIndexGrade":0,"heatIndexStr":"낮음","freezeGrade":0,"freezeStr":"낮음","frostGrade":0,"frostStr":"낮음","wsdGrade":1,"wsdStr":"바람약함","skyIcon":"Sun","summary":"어제보다 +3˚, 통합대기 보통","yesterday":{"date":"20171126","time":"1300","t1h":5.8,"rn1":0,"sky":3,"uuu":0.3,"vvv":-3.9,"reh":66,"pty":0,"lgt":0,"vec":356,"wsd":4}},
           "source":"KMA"
       };

        let parameters = {
            "any" : "서울",
            "date" : "",
            "date-period" : "",
        };

        let ctrlWeather = new ControllerWeather();
        let msg = ctrlWeather.getCurrentAQI(parameters, weatherInfo);
        console.log(msg);
    });
});

